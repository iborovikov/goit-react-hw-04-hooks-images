{"version":3,"sources":["Components/Modal/modal.module.css","Components/Button/button.module.css","Components/Searchbar/searchBar.module.css","Components/Searchbar/SearchBar.js","Components/ImageGallery/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","Components/Button/Button.js","Components/Modal/Modal.js","App.js","services.js","index.js","Components/ImageGallery/imageGallery.module.css"],"names":["module","exports","SearchBar","onSubmit","useState","searchInputValue","setSearchInputValue","className","s","Searchbar","SearchForm","e","preventDefault","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","value","onChange","currentTarget","autoComplete","autoFocus","placeholder","ImageGalleryItem","webformatURL","tags","src","alt","ImageGalleryItemImage","defaultProps","ImageGallery","pictures","openLargeImg","shortid","require","map","picture","onClick","id","generate","Button","setPageNumber","Modal","closeModal","pictureData","largeImageURL","useEffect","window","addEventListener","handleKeyDown","code","removeEventListener","Overlay","target","initialState","status","showModal","largeImg","query","pageNumber","error","setRedusser","state","action","payload","console","log","App","useReducer","dispatch","isFirstRender","useRef","current","fetch","then","res","json","fetchPictures","hits","scrollDown","catch","scrollTo","top","document","documentElement","scrollHeight","behavior","find","color","height","width","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.8056e9dd.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"modal_Overlay__1v_L8\",\"Modal\":\"modal_Modal__zqMF5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"button_Button__2LU02\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"searchBar_Searchbar__1qMpb\",\"SearchForm\":\"searchBar_SearchForm__3NuOt\",\"SearchFormButton\":\"searchBar_SearchFormButton__1HVBI\",\"SearchFormButtonLabel\":\"searchBar_SearchFormButtonLabel__3g30E\",\"SearchFormInput\":\"searchBar_SearchFormInput__3UMk8\"};","import { useState } from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport s from './searchBar.module.css'\r\n\r\nfunction SearchBar({ onSubmit }) {\r\n    const [searchInputValue, setSearchInputValue] = useState('');\r\n\r\n    const formSubmit = (e) => {\r\n        e.preventDefault();\r\n        onSubmit(searchInputValue);\r\n    };\r\n\r\n    const handleInputChange = (e) => {\r\n        setSearchInputValue(e.currentTarget.value);\r\n    };\r\n\r\n    return (\r\n        <header className={ s.Searchbar }>\r\n            <form className={ s.SearchForm } onSubmit={formSubmit}>\r\n                <button type=\"submit\" className={ s.SearchFormButton }>\r\n                    <span className={ s.SearchFormButtonLabel }>Search</span>\r\n                </button>\r\n                <input\r\n                    className={ s.SearchFormInput }\r\n                    type=\"text\"\r\n                    value={searchInputValue}\r\n                    onChange={handleInputChange}\r\n                    autoComplete=\"off\"\r\n                    autoFocus\r\n                    placeholder=\"Search images and photos\"\r\n                />\r\n            </form>\r\n        </header>\r\n    );\r\n};\r\n\r\nexport default SearchBar;\r\n\r\nSearchBar.propTypes = {\r\n    onSubmit: PropTypes.func.isRequired\r\n}","import PropTypes from 'prop-types';\r\nimport s from './imageGallery.module.css'\r\n\r\nconst ImageGalleryItem = ({ webformatURL, tags }) => {\r\n  \r\n    return (\r\n        <img src={webformatURL} alt={tags} className={s.ImageGalleryItemImage} />\r\n    );\r\n        \r\n};\r\nexport default ImageGalleryItem\r\n\r\nImageGalleryItem.defaultProps = {\r\n    tags: 'picture'\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n    webformatURL: PropTypes.string.isRequired,\r\n    tags: PropTypes.string,\r\n};","import PropTypes from 'prop-types';\r\nimport ImageGalleryItem from './ImageGalleryItem'\r\nimport s from './imageGallery.module.css'\r\n\r\nconst ImageGallery = ({ pictures, openLargeImg }) => {\r\n    const shortid = require('shortid');\r\n\r\n    return (\r\n        <ul className={s.ImageGallery}>\r\n            {pictures && pictures.map(picture =>\r\n                <li key={shortid.generate()} className={s.ImageGalleryItem} onClick={() => openLargeImg(picture.id)}>\r\n                    <ImageGalleryItem webformatURL={picture.webformatURL} tags={picture.tags} />\r\n                </li>)}\r\n        </ul>\r\n    );\r\n};\r\n\r\nexport default ImageGallery;\r\n\r\nImageGallery.propTypes = {\r\n    pictures: PropTypes.arrayOf(PropTypes.shape({\r\n        id: PropTypes.number.isRequired,\r\n        webformatURL: PropTypes.string.isRequired,\r\n        tags: PropTypes.string,\r\n        })).isRequired,\r\n    openLargeImg:PropTypes.func.isRequired,\r\n}","import s from './button.module.css'\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Button = ({ setPageNumber }) => {\r\n\r\n    return (\r\n        <button type='button' className={s.Button} onClick={() => setPageNumber({type: 'setPageNumber'})}>Load more</button>\r\n    );\r\n};\r\n\r\nexport default Button;\r\n\r\nButton.propTypes = {\r\n  setPageNumber: PropTypes.func.isRequired,\r\n};","import { useEffect } from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport s from './modal.module.css'\r\n\r\nfunction Modal({ closeModal, pictureData:{ largeImageURL, tags } }) {\r\n\r\n    useEffect(() => {\r\n        window.addEventListener('keydown', handleKeyDown);\r\n    });\r\n\r\n    const handleKeyDown = (e) => {\r\n        if (e.code === 'Escape') {\r\n            window.removeEventListener('keydown', handleKeyDown)\r\n            closeModal({type: 'toggleModal'});\r\n        };\r\n    };\r\n\r\n    const handleBackdropClick = (e) => {\r\n        if (e.target === e.currentTarget) {\r\n            window.removeEventListener('keydown', handleKeyDown)\r\n            closeModal({type: 'toggleModal'});\r\n        };\r\n    };\r\n\r\n    return (\r\n        <div className={s.Overlay} onClick={handleBackdropClick}>\r\n            <div className={s.Modal}>\r\n                <img src={largeImageURL} alt={tags} />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Modal\r\n\r\nModal.propTypes = {\r\n    closeModal: PropTypes.func.isRequired,\r\n    pictureData: PropTypes.shape({\r\n        largeImageURL: PropTypes.string.isRequired,\r\n        tags: PropTypes.string.isRequired\r\n    })\r\n}","import { useEffect, useRef, useReducer } from 'react';\nimport Loader from \"react-loader-spinner\";\nimport './App.css';\nimport fetchPictures from './services';\nimport SearchBar from './Components/Searchbar/SearchBar';\nimport ImageGallery from './Components/ImageGallery/ImageGallery';\nimport Button from './Components/Button/Button';\nimport Modal from './Components/Modal/Modal'\n\n\nconst initialState = {\n  pictures: [],\n  status: 'idle',\n  showModal: false,\n  largeImg: null,\n  query: '',\n  pageNumber: 1,\n  error: 'Nothing found'\n}\n\nfunction setRedusser(state, action) {\n  switch (action.type) {\n    case 'setPicture':\n      return {...state, pictures: [...state.pictures, ...action.payload]};\n    case 'resetPicture':\n      return {...state, pictures: []};\n    case 'setStatus':\n      return {...state, status: action.payload}\n    case 'toggleModal':\n      return {...state, showModal: !state.showModal}\n    case 'setLargeImg':\n      return {...state, largeImg: action.payload }\n    case 'setQuery':\n      return {...state, query: action.payload};\n    case 'setPageNumber':\n      return {...state, pageNumber: state.pageNumber + 1};\n    case 'resetPageNumber':\n      return {...state, pageNumber: 1};\n    case 'setError':\n      return {...state, error: action.payload};\n    default: console.log(`unexpected action type ${action.type}`)\n  };\n}\n\nfunction App() {\n\n  const [state, dispatch] = useReducer(setRedusser, initialState);\n  const isFirstRender = useRef(true);\n\n  const {\n    pictures,\n    status,\n    showModal,\n    largeImg,\n    query,\n    pageNumber,\n    error } = state\n\n  useEffect(() => {\n    if (isFirstRender.current) {\n      isFirstRender.current = false\n      return\n    }\n    dispatch({type: 'setStatus', payload: 'pending'});\n    fetchPictures(query, pageNumber).then(pictures => {\n      dispatch({ type: 'setStatus', payload: 'resolved' });\n      dispatch({ type: 'setPicture', payload: pictures.hits });\n      if (pageNumber > 1) {\n        scrollDown()\n      };\n    })\n      .catch(error => {\n        dispatch({type: 'setError', payload: error });\n        dispatch({type: 'setStatus', payload: 'rejected'})\n      });\n  }, [query, pageNumber])\n\n  const scrollDown = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  const openLargeImg = (id) => {\n    const picture = pictures.find(picture => picture.id === id);\n    dispatch({ type: 'setLargeImg', payload: picture });\n    dispatch({ type: 'toggleModal' });\n  };\n\n  const onSubmit = (query) => {\n    dispatch({ type: 'resetPicture' });\n    dispatch({ type: 'resetPageNumber' });\n    dispatch({ type: 'setQuery', payload: query });\n  };\n    \n    if (status === 'idle') {\n      return (<div className='container'>\n        <SearchBar onSubmit={onSubmit} />\n      </div>);\n    };\n\n    if (status === 'pending' || status === 'resolved') {\n      return (\n        <div className='container'>\n          <SearchBar onSubmit={onSubmit} />\n          <ImageGallery pictures={pictures} openLargeImg={openLargeImg} />\n          {status === 'resolved' ?\n            <Button setPageNumber={dispatch} /> :\n            <div className='loader'>\n              <Loader type=\"ThreeDots\" color=\"#3f51b5\" height={80} width={80} />\n            </div>}\n          {showModal && <Modal closeModal={dispatch} pictureData={largeImg} />}\n        </div>\n      );\n    };\n\n    if (status === 'rejected') {\n      return (<div className='container'>\n        <SearchBar onSubmit={onSubmit} />\n        <h1>Warning: { error }</h1>\n      </div>);\n    };\n};\n\nexport default App;","\r\nconst API_KEY = '23129863-59f8a41eed57593cb3097b5c2'\r\nconst URL = 'https://pixabay.com/api/'\r\n\r\nexport default function fetchPictures(query, pageNumber) {\r\n  return (\r\n    fetch(`${URL}?q=${query}&page=${pageNumber}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`)\r\n      .then(res => res.json())\r\n\r\n  )\r\n    \r\n};","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'modern-normalize/modern-normalize.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"imageGallery_ImageGallery__16Yqr\",\"ImageGalleryItem\":\"imageGallery_ImageGalleryItem__x4J5C\",\"ImageGalleryItemImage\":\"imageGallery_ImageGalleryItemImage__2NUye\"};"],"sourceRoot":""}